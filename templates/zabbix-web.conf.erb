#
# Zabbix monitoring system php web frontend
#

NameVirtualHost *:80

<VirtualHost *:80>
    DocumentRoot "/usr/share/zabbix"
    ServerName <%= server_name %>
    
    <Directory "/usr/share/zabbix">
        Options FollowSymLinks
        AllowOverride None
        Order allow,deny
        Allow from <%= host_allow %>
    
        php_value max_execution_time <%= php_value_max_execution_time %>
        php_value memory_limit <%= php_value_memory_limit %>
        php_value post_max_size <%= php_value_post_max_size %>
        php_value upload_max_filesize <%= php_value_upload_max_filesize %>
        php_value max_input_time <%= php_value_max_input_time %>
        php_value date.timezone <%= php_value_date_timezone %>
    </Directory>
    
    <Directory "/usr/share/zabbix/conf">
        Order deny,allow
        Deny from all
        <files *.php>
            Order deny,allow
            Deny from all
        </files>
    </Directory>
    
    <Directory "/usr/share/zabbix/api">
        Order deny,allow
        Deny from all
        <files *.php>
            Order deny,allow
            Deny from all
        </files>
    </Directory>
    
    <Directory "/usr/share/zabbix/include">
        Order deny,allow
        Deny from all
        <files *.php>
            Order deny,allow
            Deny from all
        </files>
    </Directory>
    
    <Directory "/usr/share/zabbix/include/classes">
        Order deny,allow
        Deny from all
        <files *.php>
            Order deny,allow
            Deny from all
        </files>
    </Directory>
</VirtualHost>
